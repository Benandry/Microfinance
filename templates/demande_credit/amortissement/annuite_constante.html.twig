{% extends "base.html.twig" %}

{% block title %}Par annuité constante {% endblock %}
{% block head %} Par annuité constante {% endblock %}

{% block body %}
    {% for message in app.flashes('success') %}
        <p class="alert alert-success text-center" >{{ message }}</p>
    {% endfor %}

    {% for info in info %}
        <div class="row">
            <div class="col-4 col-xl-4 col-sm-4">
                <p> Montant de credit : {{ info.Montant }}</p>
                <p> Annuité constante : {{ info.annuite }}</p>
            </div>
            <div class="col-4 col-xl-4 col-sm-4">
                <p>Numero de credit : {{ info.NumeroCredit }}</p>
                <p>Nombre tranche : {{ info.NombreTranche }}</p>
            </div>
            <div class="col-4 col-xl-4 col-sm-4">
                <p>taux  : {{ info.TauxInteretAnnuel }} % </p>
            </div>
        </div>
    {% endfor %}
    <div class="row">
        <div class="col-12 col-sm-12 col-xl-12">
            <table class="table">
                <thead>
                    <tr>
                        <th>Periode (N) </th>
                        <th>Date de Remboursement  </th>
                        <th>Capital restant Du (K)</th>
                        <th>Interet (I)</th>
                        <th>Amortissemnent (r)</th>
                        <th>Annuité (a) </th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    {% for amortissement in tableau_amortissement %}
                        <tr>
                            <td> {{ amortissement.periode }} </td>
                            <td> {{ amortissement.dateRemborsement|date("d/m/Y") }} </td>
                            <td> {{ amortissement.principale }}
                            <td> {{ amortissement.interet }} </td>
                            <td> {{ amortissement.remboursement }} </td>
                            <td> {{ amortissement.annuite }} </td>
                            <td> 
                                <a href="{{ path('app_amortissement_fixe_edit',{'id': amortissement.id}) }}" class="btn btn-sm btn-info">
                                    <i class="fa fa-edit"></i>
                                </a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
                {# <tfoot>
                    <tr>
                        <th colspan="2">Total</th>
                        <td> {{ totalInteret }} </td>
                        <td> {{ totalMontant }} </td>
                        <td> 0 </td>
                    </tr>
                </tfoot> #}
            </table>
            <div>
                {{ form_start(form) }}
                    <div class="my-custom-class-for-errors">
                        {{ form_errors(form) }}
                    </div>

                    <div class="row">
                        <div class="col">
                            {{ form_row(form.submit) }}
                        </div>
                        <div class="col" id="some-custom-id">
                        </div>
                    </div>
                {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}